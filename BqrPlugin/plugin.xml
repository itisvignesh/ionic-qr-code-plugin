<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns="http://apache.org/cordova/ns/plugins/1.0"
    xmlns:android="http://schemas.android.com/apk/res/android"
    id="com.itisvignesh.commonqrplugin"
    version="0.0.2">
    <name>CommonQRPlugin</name>
    <description>The default qr plugin for most the use cases without any third party dependency which only uses only internal iOS frameworks.</description>
    <license>Apache 2.0</license>
    <keywords>itisvignesh,commonmqrplugin,qrcodeplugin,qrcodeplugincordova,qrcodepluginionic,qrplugincordova</keywords>
    <repo></repo>
    <issue></issue>

    <js-module src="www/CommonQRPugin.js" name="CommonQRPugin">
        <clobbers target="CommonQRPugin" />
    </js-module>

    <!-- ios -->
    <platform name="ios">
        <config-file target="config.xml" parent="/*">
		    <feature name="CommonQRPugin">
			    <param name="ios-package" value="CommonQRPugin"/>
                <param name="onload" value="true" />
		    </feature>
        </config-file>
        <!-- native implementation of the plugin -->
        <header-file src="src/ios/CommonQRPugin.h" />
        <source-file src="src/ios/CommonQRPugin.m" />
        <header-file src="src/ios/QRReaderViewController.h" />
        <source-file src="src/ios/QRReaderViewController.m" />
        
        <!-- add permission to use camera -->
        <preference name="CAMERA_USAGE_DESCRIPTION" default=" " />
        <config-file target="*-Info.plist" parent="NSCameraUsageDescription">
            <string>Used to capture image to read QR code</string>
        </config-file>
        <config-file target="*-Info.plist" parent="NSPhotoLibraryUsageDescription">
            <string>Read QR codes from photos</string>
        </config-file>

        <!-- frameworks used by capture manager and custom camera overlay -->
        <framework src="AVFoundation.framework" />
        <framework src="UIKit.framework" />
        <framework src="Foundation.framework" />


        <!-- has to go with the app to display the custom camera overlay -->
        <resource-file src="src/ios/Main.storyboard" />
        <!-- <resource-file src="src/ios/ic_bharath_qr.png" />
        <resource-file src="src/ios/ic_rupay.png" /> -->

    </platform>

</plugin>
